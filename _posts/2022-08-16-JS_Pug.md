---
title: "Pug"
execrpt: "Pug 간단설명"
toc: true
toc_sticky: true
categories:
  - JS
tags:
  - Pug
  - nodejs
  - express
last_modified_at: 2022-08-17
---
## Pug

- [Pug_공식홈페이지](https://pugjs.org/api/getting-started.html)
- [Pug_Github](https://github.com/pugjs/pug)
- 간단하게 설명하면 express에서 사용하는 view_engine이다.
- pug는 모두 탭과 띄어쓰기로 구분된다.


예시
<div class="notice--primary" markdown="1">
`Pug 설치방법`

```
npm i pug
```
express는 views 디렉토리에서 pug 파일을 찾도록 설정되어 있다. 루트 파일은 서버를 기동하는 파일의 위치에 따라 결정된다. 어디서 node.js를 부르고, 어디서 서버를 기동하고 있는지 잘 살펴봐야한다. (package.json이 node.js를 실행하고 있다.)

`pug 설정방법`

```js
app.set("view engine", "pug");
// view engine으로 pug 를 쓴다고 설정.
app.set("views", process.cwd() + "/src/views");
// 프로세스의 현재 작업 디렉터리(CWD, current working directory)
// 경로 default값은 "현재 작업 디렉토리 + /views" 이다.
// 경로를 바꾸려면 위와같이 설정하면 된다.
```

- [express_templates_engine](https://expressjs.com/ko/guide/using-template-engines.html)
- [express_app.set](https://expressjs.com/ko/4x/api.html#app.set)

`home.pug`

```
doctype html
html(lang="ko")
  head 
    title Wetube
  body
    h1 hello!
    footer &copy; Wetube
```
`Router.js`
```js
export const trending = (req, res) => res.render("home");
// render할 파일명은 pug파일명과 같아야한다. 
```
</div>

### Partials

pug에서 반복되는 html코드를 정리하고 싶을때 사용한다. views폴더 안에 partials폴더를 만들고 그안에 pug파일을 만들면 된다.  
예시
<div class="notice--primary" markdown="1">

`footer.pug 파일`

```
footer &copy; #{new Date().getFullYear()} Wetube
```
- #{ }는 자바스크립트를 포함시킬때 사용한다.
  
`home.pug 파일`

```
doctype html
html(lang="ko")
  head 
    title Wetube
  body
    h1 hello!
  include partials/footer.pug
```
- include 하면 pug는 내용을 가져와서 복붙한다.
</div>


### 파일확장

- 똑같은 html코드구조를 반복하기 싫을떄 block이나 extends를 사용한다

<div class="notice--primary" markdown="1">

`base.pug 파일`

```
doctype html
html(lang="ko")
  head 
    title Wetube
  body
    block content
  include partials/footer.pug
```

`home.pug 파일`

```
extends base.pug

block content
  h1 Home
```
- block은  베이스 템플릿이, 문 또는 창문을 가지는 방법이라 생각하면 된다. 확장한 파일과 커뮤니케이션 할 수 있게 해준다.
</div>

### 변수보내는법

<div class="notice--primary" markdown="1">

`videoController.js`
```js
export const trending = (req, res) => res.render("home", { pageTitle: "Home" });
// pageTitle 이라는 변수를 home.pug에 보낸다.
```
`base.pug 파일`
```
doctype html 
html(lang="ko")
    head
        title #{pageTitle} | Wetube
    body
        header 
            h1=pageTitle
        
        block content
    include partials/footer.pug

```
위의 header 부분 h1=pageTitle에 변수를 전달해준다.
`home.pug`

```
extends base.pug

block content 
    h2 Welcome here you will see the trending videos 
```

- block은  베이스 템플릿이, 문 또는 창문을 가지는 방법이라 생각하면 된다. 확장한 파일과 커뮤니케이션 할 수 있게 해준다.
</div>

### Conditionals

