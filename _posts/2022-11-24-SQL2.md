---
title: "SQL 연산자, 정렬+부분조회,함수 설명"
execrpt: "SQL 연산자, 정렬+부분조회, 함수 설명"
toc: true
toc_sticky: true
categories:
  - SQL
tags:
  - SQL
  - MYSQL
last_modified_at: 2022-11-24
---

## BETWEEN 연산자
조회 조건값의 범위를 설정하는 between 연산자.  
- between 연산자는 특정 칼럼의 데이터 값이 하한값 `A`와 상한값 `B` 사이에 포함되는 행을 검색하기 위한 연산자이다.

```sql
select * | 컬럼이름 from <테이블이름> where 컬럼이름 between A and B ;
```

- between 연산자는 두 개의 비교식을 AND 연산자로 묶은 것과 동일한 결과를 얻을 수 있다.

```sql
select * | 컬럼이름 from <테이블이름> where 컬럼이름 >= A and 컬럼이름 <= B;
```

ex) BETWEEN 연산자를 사용하여 몸무게가 50kg에서 70kg사이인 학생의 학번, 이름, 몸무게를 출력  
  

```sql
SELECT studno, name, weight FROM student WHERE weight BETWEEN 50 AND 70;
```

![](https://user-images.githubusercontent.com/105098581/203678078-61856e51-116a-47b6-9295-c2c4f89327d4.png)


ex) 비교 연산자와 AND 연산자를 사용하여 몸무게가 50kg에서 70kg사이인 학생의 학번, 이름, 몸무게를 출력 
  

```sql
SELECT studno, name, weight, FROM student WHERE weight >=50 AND weight <=70;
```

![](https://user-images.githubusercontent.com/105098581/203678626-0088e1a4-36ad-40f3-a019-804af73ad9f3.png)


## IN 연산자
여러 개의 값 중에서 하나라도 일치하면 참이 되는 연산자.
- IN 연산자의 특정 칼럼의 데이터 값이 A,B, ...,Z 값 중 하나라도 일치하면 `참`이 되는 연산자이다.

```sql
select *|컬럼이름 from <테이블이름> where 컬럼이름 in (A,B,...,Z);
```

- IN 연산자는 여러개의 비교식을 OR 연산자로 묶은 것과 동일한 결과를 얻을 수 있다.

```sql
select *|컬럼이름 from <테이블이름> where 컬럼이름 = A or 컬럼이름 = B or ... or 컬럼이름 = Z;
```

ex) IN연산자를 사용하여 102번 학과와 201번 학과 학생의 이름, 학년, 학과번호 출력

```sql
SELECT name, grade, deptno FROM student WHERE deptno IN (102,201);
```

![](https://user-images.githubusercontent.com/105098581/203679441-b352da30-2089-4c8d-98ae-e0215ad8eb6f.png)

ex) 비교 연산자와 OR 연산자를 사용하여 102번 학과와 201번 학과 학생의 이름, 학년, 학과번호 출력

```sql
SELECT name, grade, deptno FROM student WHERE deptno=102 OR deptno=201;
```

![](https://user-images.githubusercontent.com/105098581/203679559-b5e80ce1-1dca-40b6-a2ad-30b426f8eee6.png)


## LIKE 연산자
특정 키워드가 포함된 데이터를 검색하기
- LIKE 연산자는 컬럼에 저장된 문자열이 LIKE 연산자에서 지정한 문자패턴과 부분적으로 일치하면 참이 되는 연산자이다.

```sql
select * | 컬럼이름 from <테이블이름> where 컬럼이름 like '%검색어';
```

- 아래와 같은 특수문자를 이용할 수 있다.
  - '%' : 임의의 길이인 문자열(길이가 0인 경우도 포함)에 대한 특수문자로 윈도우에서의 '*'와 동일한 의미를 갖는다.

| '%김'  | '김'으로 끝나는 모든 내용.                 |
| ------ | ------------------------------------------ |
| '김%'  | '김'으로 시작하는 모든 내용.               |
| ------ | ------------------------------------------ |
| '%김%' | 앞 뒤 구분 없이 '김'을 포함하는 모든 내용. |


ex) 학생 테이블에서 성이'김'씨인 학생의 이름, 학년, 학과번호를 출력  

```sql
SELECT name, grade, deptno FROM student WHERE name LIKE '김%';
```

![](https://user-images.githubusercontent.com/105098581/203680523-c6dae863-534b-4e47-8c89-79873031ad53.png)

## IS NULL, IS NOT NULL 연산자
- NULL 값의 의미
  - NULL 은 미확인 값 혹은 아직 결정되지 않은 값을 의미한다.
  - NULL 은 숫자 0이나 공백과는 다른 값이다.
    - ex) 학생 몸무게가 NULL 인 경우는 학생 몸무게가 0이 아니라 현재 시점에서 그 학생의 몸무게를 모른다는 의미
  - 대부분의 프로그래밍 구현에서 **미필수 항목에 대하여 사용자가 입력하지 않은 경우를 NULL**로 처리한다. 

![](https://user-images.githubusercontent.com/105098581/203680859-b270b9a9-6ac9-4f5e-b30c-624f8e7427ae.png)

ex) 교수 테이블(professor)에서 이름(name),직급(position), 보직수당(comm)을 출력 -> Null 데이터 확인.

```sql
select name, position, comm from professor;
```

![](https://user-images.githubusercontent.com/105098581/203682302-85f8fb35-86ce-4693-b2d8-735179c76ab6.png)

- 특정 컬럼에 저장된 데이터에 대한 Null 여부 검사하기

```sql
select *|컬럼이름 from <테이블이름> where 컬럼이름 is [not] null;
```

| IS NULL     | 칼럼 값 중에서 NULL을 초함하는 행을 검색하기 위해 사용 |
| ----------- | ------------------------------------------------------ |
| IS NOT NULL | NULL을 포함하지 않는 행을 검색하기 위해 사용           |


ex) 교수 테이블(professor)에서 보직수당이 없는 교수의 이름, 직급, 보직수당을 출력
```sql
SELECT name, position, comm, FROM professor WHERE comm IS NULL;
```

![](https://user-images.githubusercontent.com/105098581/203686218-355100a4-85ed-4928-bc44-1d45ac6bbc4d.png)

ex) 교수 테이블에서 보직수당을 받고 있는 교수의 이름과 급여, 보직수당을 출력

```sql
select name, sal, comm from professor where comm is not null;
```

![](https://user-images.githubusercontent.com/105098581/203686389-a0523558-ae0c-4dcc-801e-38ed51c116ae.png)


## 연산자 우선순위
where절의 조건을 분석하는 우선 순위

| 순위 | 연산자                                                                    |
| ---- | ------------------------------------------------------------------------- |
| 1    | 괄호로 묶인 부분                                                          |
| 2    | 비교연산자(=,!=,<>,>,>=,<,<=) <br /> SQL 연산자 (BETWEEN,IN,LIKE,IS NULL) |
| 3    | NOT                                                                       |
| 4    | AND                                                                       |
| 5    | OR                                                                        |

* AND가 OR보다 우선한다.

ex) 102번 학과의 학생중에서 1학년 또는 4학년 학생의 이름, 학년, 학과 번호를 출력

```sql
select name, grade, deptno, from student where deptno = 102 and (grade = 4 or grade = 1);
```
![](https://user-images.githubusercontent.com/105098581/203686868-45694ab6-a6a3-4ce3-bcdf-fee74393739d.png)


## 연습문제

- 교수테이블(professor)에서 급여가 300~400만원 사이인 교수의 이름과 급여를 BETWEEN 연산자를 사용하여 조회하시오.

```sql
select name, sal from professor where sal between 300 and 400;
```

![](https://user-images.githubusercontent.com/105098581/203687240-21c167af-7b89-4c83-b224-32fd7f51af99.png)

- 교수 테이블에서 직급이 조교수 또는 전임강사인 교수의 번호, 이름, 직급, 학과번호를 IN 연산자로 조회하시오.

```sql
select prfono, name, position, deptno from professor
where position in ('조교수', '전임강사');
```

![](https://user-images.githubusercontent.com/105098581/203704430-1d8124e0-69ce-485b-b34d-5f04f017d8cd.png)

- 학과 이름에 '공학'이라는 단어가 포함된 모든 학과의 학과번호, 이름, 위치를 조회하시오.

```sql
select deptno, dname, loc from department where dname like '%공학%';
```

![](https://user-images.githubusercontent.com/105098581/203705382-0c18d146-6192-4f75-a34f-af3df5a9fd14.png)

- 학생 테이블에는 해당 학생의 담당 교수가 결정된 경우 교수번호가 함께 저장되어 있다. 담당 교수가 결정된 학생의 학번, 이름, 학년, 담당 교수 번호를 조회하시오.

```sql
select studno, name, grade, profno from student where profno is not null;
```

![](https://user-images.githubusercontent.com/105098581/203706500-eb58a75f-f6d4-4531-9054-bd343ac24d1a.png)


- 102번 학과의 학생 중에서 4학년 학생이거나, 소속된 학과에 상관없이 1학년 학생들의 이름, 학년, 학과 번호를 출력하여라.

```sql
select name, grade, deptno from student
where deptno = 102 and grade = 4 or grade = 1;
```

![](https://user-images.githubusercontent.com/105098581/203708764-d7b31463-face-4ea2-884f-1c7ac150c64d.png)


## 데이터 정렬하기
**ORDER BY절**
- 칼럼이나 표현식을 기준으로 출력 결과를 정렬할 떄 사용한다.

```sql
select [distinct] {*|컬럼이름 [as 별칭]...} from <테이블이름>
[where 검색조건]
[order by 컬럼이름 [정렬옵션]];
```
- 정렬옵션
  - **ASC** : 오름차순으로 정렬하는 경우에 사용하며 기본값 -> 순차 정렬
  - **DESC** : 내림차순으로 정렬하는 경우에 사용하며 생략 불가능 -> 역순 정렬
- 기본적인 정렬방법 (ASC의 경우)
  - 문자값 : 알파벳순 출력, 한글은 가나다 순으로 출력
  - 숫자값 : 가장 작은 값부터 먼저 출력
  - 날짜값 : 과거의 날짜부터 출력

ex) 학생 테이블에서 이름을 가나다 순으로 정렬하여 이름, 학년, 전화번호를 출력하시오.

```sql
select name, grade, tel from student order by name;
```

