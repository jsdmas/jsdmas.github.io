---
title: "Express 기초(1)"
execrpt: "Express 설명"
toc: true
toc_sticky: true
categories:
  - Node
tags:
  - Node
last_modified_at: 2022-12-13
---

# Express 개요
Node.js를 위한 빠르고 개방적인 간결한 웹 프레임워크
```
yarn add express
```
## 프레임워크
프로그램을 만드는데 기본적으로 제공되는 기본 골격.  
전체적인 틀이 이미 정해져 있기 떄문에 개발자느 자신이 목표로 하는 세부 기능에만 집중할 수 있다.  
코드 품질이 일정하게 유지될 수 있다.  
## Express와 함께 사용할 수 있는 서드파티 패키지들
**express-useragent**  
접근한 클라이언트의 정보(운영체제정보, 브라우저 정보, IP주소 등)를 취득할 수 있는 기능을 제공  
```
yarn add express-useragent
```

**serve-static**   
특정 폴더를 통째로 웹에 노출시키는 기능(폴더 구조가 그대로 URL노출됨)  
img, css, js, 정적 html파일등을 호스팅하고자 할 때 사용함.  
```
yarn add serve-static
```

**serve-favicon**  
favicon 파일을 브라우저에 전달한다.  
```
yarn add serve-favicon
```

# 웹 파라미터

프론트엔드가 백엔드에게 전달하는 변수.  
백엔드는 프론트엔드로부터 전달받은 변수에 따라 선택적인 결과를 생성하여 돌려줄 수 있다.  
ex) 프론트엔드 --- (아이디, 비밀번호) ---> 로그인  
get, post, put, delete 방식의 변수 전달 방식이 있다.  

## GET 파라미터  

URL 뒤에 `?`를 기준으로 `이름=값&이름=값`형식으로 변수를 포함시키는 방법.  
`?이름=값&이름=값`형식의 문자열을 QueryString 이라고 하며 Client측 Javascript에서는 `window.location.search`로 문자열 전체를 취득하여 이를 활용할 수 있다.  
주로 링크를 클릭한 경우 어떤 링크를 선택했는지를 감지하기 위해 사용한다.  
HTML의 `<form>`태그에서 `method`속성을 명시하지 않거나 `get`으로 부여한 경우 `<input>`태그의 name 속성이 변수명이 되고, 사용자 입력값이 변수의 값이 되어 action 속성에 명시한 URL로 전송된다.  
모든 변수가 URL에 노출되기 때문에 상대적으로 보안에 좋지 않다.  

## Path 파라미터  

URL안에 변수값을 폴더 이름처럼 숨겨놓은 처리   
Path 파라미터는 변수의 전달 형태만 다를 뿐 URL을 통해 전달한다는 점에서 GET파라미터의 한 종류로 구분한다.  
```
http://<hostname>:<port>/페이지이름/변수1/변수2
```

## POST 파라미터
HTML의 `<form>`태그에서 `method`속성을 `POST`로 부여한 경우를 의미.  
변수가 URL에 노출되지 않기 떄문에 상대적으로 보안에 유리하지만, 결코 전송되는 변수를 볼 수 없다는 것을 의미하지는 않는다.  
Node.js 스스로는 POST파라미터를 처리하지 못하므로 다음의 패키지를 설치해야 한다.  
```
yarn add body-parser
```

## PUT, DELETE 파라미터
HTTP 1.1에서는 지원하지 않는 속성 (HTTP 2.0부터 지원)
HTML의 `<form>`태그는 이 방식을 지원하지 않는다.  
기본적으로 POST 방식과 동일하면서 전송방식의 이름만 변경한 형태.  
Node.js스스로는 PUT, DELETE 파라미터를 처리하지 못하므로 다음의 패키지를 설치해야 한다.  
```
yarn add method-override
```

## RestfulAPI
하나의 URL이 어떤 개체(ex-상품, 회원 등)를 의미하고 GET,POST,PUT,DELETE 전송방식에 따라 조회, 입력, 수정, 삭제 기능을 구분하는 구현 형태  

대부분 OpenAPI는 Restful API 방식을 따른다.  
| 전송방식 | 수행할 동작 | 의미   | SQL    |
| -------- | ----------- | ------ | ------ |
| POST     | 입력        | Create | INSERT |
| GET      | 조회        | Read   | SELECT |
| PUT      | 수정        | Update | UPDATE |
| DELETE   | 삭제        | Delete | DELETE |

위의 네가지 방식을 CRUD라 부른다.  
즉, Restful API는 CRUD 방식을 따르는 표준.  
**전송방식에 따른 URL 예시**  
장바구니를 다루는 Restful API라고 가정할 경우  
| 전송방식 | URL                                           | 동작                                                 | 파라미터                                                                                         |
| -------- | --------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| POST     | http://localhost:3000/shopping/cart           | 장바구니에 담기                                      | 상품정보는 POST방식으로 전달한다.<br />저장된 항목을 의미하는 고유한 일련번호값이 생성된다.      |
| GET      | http://localhost:3000/shopping/cart/:일련번호 | 해당 일련번호에 대한 장바구니 내역 조회              | 조회대상을 Path 파라미터로 전달한다.                                                             |
| PUT      | http://localhost:3000/shopping/cart/:일련번호 | 해당 일련번호에 대한 장바구니 내역 수정(주문수량 등) | 수정할 대상을 의미하는 일련번호는 Path 파라미터로 전달하고 수정할 내용은 PUT파라미터로 전달한다. |
| DELETE   | http://localhost:3000/shopping/cart/:일련번호 | 해당 일련번호에 대한 장바구니 항목 삭제              | 삭제대상을 Path 파라미터로 전달한다.                                                             |



# 예시

